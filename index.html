<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <title>真实职场年龄大揭秘</title>
  <link rel="stylesheet" type="text/css" href="./css/jquery.fullpage.css">
  <link rel="stylesheet" type="text/css" href="./css/index.css">
</head>

<body>
  <div id="fullpage">
    <!-- 首页 -->
    <div class="section" id="section_start">
      <div class="background">
        <img src="./images/firstpage.png" style="margin-top:-15%">
        <div class="button have">
          <img src="./images/button.png">
        </div>
      </div>
    </div>
    <!-- 第一题 -->
    <div class="section" id="section1">
      <div class="background">
        <div class="top"><img src="./images/top1.png" alt=""></div>
        <div class="font"><img src="./images/font1.png" alt=""></div>
        <div class="box">
          <div class="choose choose1" name="A"></div>
          <div class="choose choose1" name="B" style="margin-left:2%"></div>
          <div class="choose choose1" name="C" style="margin-top:5%"></div>
          <div class="choose choose1" name="D" style="margin-left:2%;margin-top:5%"></div>
        </div>
        <div class="button">
          <img src="./images/next.png">
          <div class="hand">
            <img src="./images/hand.png">
          </div>
        </div>
      </div>
    </div>
    <!-- 第二题 -->
    <div class="section" id="section2">
      <div class="background">
        <div class="top"><img src="./images/top2.png" alt=""></div>
        <div class="font"><img src="./images/font2.png" alt=""></div>
        <div class="box">
          <div class="choose choose2" name="A"></div>
          <div class="choose choose2" name="B" style="margin-left:2%"></div>
          <div class="choose choose2" name="C" style="margin-top:5%"></div>
          <div class="choose choose2" name="D" style="margin-left:2%;margin-top:5%"></div>
        </div>
        <div class="btn">
          <div class="back">
            <img src="./images/back.png">
          </div>
          <div class="next">
            <img src="./images/next2.png">
            <div class="hand">
              <img src="./images/hand.png">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 第三题 -->
    <div class="section" id="section3">
      <div class="background">
        <div class="top"><img src="./images/top3.png" alt=""></div>
        <div class="font"><img src="./images/font3.png" alt=""></div>
        <div class="box">
          <div class="choose choose3" name="A"></div>
          <div class="choose choose3" name="B" style="margin-left:2%"></div>
          <div class="choose choose3" name="C" style="margin-top:5%"></div>
          <div class="choose choose3" name="D" style="margin-left:2%;margin-top:5%"></div>
        </div>
        <div class="btn">
          <div class="back">
            <img src="./images/back.png">
          </div>
          <div class="next">
            <img src="./images/next2.png">
            <div class="hand">
              <img src="./images/hand.png">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 第四题 -->
    <div class="section" id="section4">
      <div class="background">
        <div class="top"><img src="./images/top4.png" alt=""></div>
        <div class="font"><img src="./images/font4.png" alt=""></div>
        <div class="box">
          <div class="choose choose4" name="A"></div>
          <div class="choose choose4" name="B" style="margin-left:2%"></div>
          <div class="choose choose4" name="C" style="margin-top:5%"></div>
          <div class="choose choose4" name="D" style="margin-left:2%;margin-top:5%"></div>
        </div>
        <div class="btn">
          <div class="back">
            <img src="./images/back.png">
          </div>
          <div class="next">
            <img src="./images/next2.png">
            <div class="hand">
              <img src="./images/hand.png">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 第五题 -->
    <div class="section" id="section5">
      <div class="background">
        <div class="top"><img src="./images/top5.png" alt=""></div>
        <div class="font"><img src="./images/font5.png" alt=""></div>
        <div class="box">
          <div class="choose choose5" name="A"></div>
          <div class="choose choose5" name="B" style="margin-left:2%"></div>
          <div class="choose choose5" name="C" style="margin-top:5%"></div>
          <div class="choose choose5" name="D" style="margin-left:2%;margin-top:5%"></div>
        </div>
        <div class="btn">
          <div class="back">
            <img src="./images/back.png">
          </div>
          <div class="next">
            <img src="./images/next2.png">
            <div class="hand">
              <img src="./images/hand.png">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 第六题 -->
    <div class="section" id="section6">
      <div class="background">
        <div class="top"><img src="./images/top6.png" alt=""></div>
        <div class="font"><img src="./images/font6.png" alt=""></div>
        <div class="box">
          <div class="choose choose6" name="A"></div>
          <div class="choose choose6" name="B" style="margin-left:2%"></div>
          <div class="choose choose6" name="C" style="margin-top:5%"></div>
          <div class="choose choose6" name="D" style="margin-left:2%;margin-top:5%"></div>
        </div>
        <div class="btn">
          <div class="back">
            <img src="./images/back.png">
          </div>
          <div class="next">
            <img src="./images/next2.png">
            <div class="hand">
              <img src="./images/hand.png">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 第七题 -->
    <div class="section" id="section7">
      <div class="background">
        <div class="top"><img src="./images/top7.png" alt=""></div>
        <div class="font"><img src="./images/font7.png" alt=""></div>
        <div class="box">
          <div class="choose choose7" name="A"></div>
          <div class="choose choose7" name="B" style="margin-left:2%"></div>
          <div class="choose choose7" name="C" style="margin-top:5%"></div>
          <div class="choose choose7" name="D" style="margin-left:2%;margin-top:5%"></div>
        </div>
        <div class="btn">
          <div class="back">
            <img src="./images/back.png">
          </div>
          <div class="next">
            <img src="./images/next2.png">
            <div class="hand">
              <img src="./images/hand.png">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 第八题 -->
    <div class="section" id="section8">
      <div class="background">
        <div class="top"><img src="./images/top8.png" alt=""></div>
        <div class="font"><img src="./images/font8.png" alt=""></div>
        <div class="box">
          <div class="choose choose8" name="A"></div>
          <div class="choose choose8" name="B" style="margin-left:2%"></div>
          <div class="choose choose8" name="C" style="margin-top:5%"></div>
          <div class="choose choose8" name="D" style="margin-left:2%;margin-top:5%"></div>
        </div>
        <div class="btn">
          <div class="back">
            <img src="./images/back.png">
          </div>
          <div class="next">
            <img src="./images/next2.png">
            <div class="hand">
              <img src="./images/hand.png">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 第九题 -->
    <div class="section" id="section9">
      <div class="background">
        <div class="top"><img src="./images/top9.png" alt=""></div>
        <div class="font"><img src="./images/font9.png" alt=""></div>
        <div class="box">
          <div class="choose choose9" name="A"></div>
          <div class="choose choose9" name="B" style="margin-left:2%"></div>
          <div class="choose choose9" name="C" style="margin-top:5%"></div>
          <div class="choose choose9" name="D" style="margin-left:2%;margin-top:5%"></div>
        </div>
        <div class="btn">
          <div class="back">
            <img src="./images/back.png">
          </div>
          <div class="next end">
            <img src="./images/end.png">
            <div class="hand">
              <img src="./images/hand.png">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 结果页 -->
    <div class="section" id="section10">
      <div class="background">
        <div class="end-top"><img src="./images/ufowork.png" alt=""></div>
        <div class="end-img"></div>
        <!-- <div class="reward"><img src="./images/QRcode.png" alt=""></div> -->
      </div>
    </div>
  </div>
  <script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
  <script src="./js/jquery.min.js"></script>
  <script src="./js/jquery.fullpage.js"></script>
  <script>
  $(function() {
    var A = [],
      B = [],
      C = [],
      D = [],
      score = 0,
      ages = '',
      year = '';
    $('#fullpage').fullpage({
      verticalCentered: false,
    });
    var ending = function() {
      var names = $('.choose.active');
      for (var i = 0; i < 9; i++) {
        var v = names[i].getAttribute('name');
        if (v == 'A') {
          A.push(v);
        }
        if (v == 'B') {
          B.push(v);
        }
        if (v == 'C') {
          C.push(v);
        }
        if (v == 'D') {
          D.push(v);
        }
      }
      score = A.length * 15 + B.length * 4 + C.length * 8 + D.length * 10;
      if (Number(score) > 79) {
        ages = '40';
        year = '40岁以上';
      } else if (Number(score) > 59) {
        ages = '28';
        year = '28-35岁';
      } else if (Number(score) > 39) {
        ages = '20';
        year = '20-28岁';
      } else if (Number(score) < 40) {
        ages = '18';
        year = '未成年';
      }
      $.fn.fullpage.moveSectionDown();
      $('.end-img').append('<img src="./images/' + ages + '.png" alt="">');

      //微信分享
      var url = window.location.href;
      $.post("http://best.tianjihr.com/H5/JSsign", {
        url: url
      }, function(data) {
        var appid = data.data.appId;
        var nonceStr = data.data.nonceStr;
        var signature = data.data.signature;
        var timestamp = data.data.timestamp;
        //微信分享
        wx.config({

          debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。

          appId: appid, // 必填，公众号的唯一标识

          timestamp: timestamp, // 必填，生成签名的时间戳

          nonceStr: nonceStr, // 必填，生成签名的随机串

          signature: signature, // 必填，签名，见附录1 

          jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2

        });

        wx.ready(function() {
          wx.onMenuShareTimeline({
            title: '我职场的心理年龄是' + year + '~', // 分享标题
            link: 'http://www.tianjihr.com/huodong/ufos', // 分享链接
            imgUrl: 'https://www.tianjihr.com/huodong/ufos/images/icon.jpg', // 分享图标
            success: function() {

            },
            cancel: function() {

            }
          });

          wx.onMenuShareAppMessage({
            title: '我职场的心理年龄是' + year + '~', // 分享标题
            desc: '一入职场岁月催，看看你的职场心理年龄是多少？', // 分享描述
            link: 'http://www.tianjihr.com/huodong/ufos', // 分享链接
            imgUrl: 'https://www.tianjihr.com/huodong/ufos/images/icon.jpg', // 分享图标
            type: '', // 分享类型,music、video或link，不填默认为link
            dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
            success: function() {
              // 用户确认分享后执行的回调函数


            },
            cancel: function() {
              // 用户取消分享后执行的回调函数
            }
          });

        });
      });


    };
    //不允许滑动
    $.fn.fullpage.setAllowScrolling(false);
    //下一题
    $('.button').click(function() {
      if ($(this).hasClass('have')) {
        $.fn.fullpage.moveSectionDown();
      } else {
        var a = $(this).prev().children();
        if (a.hasClass('active')) {
          $.fn.fullpage.moveSectionDown();
        }
      }
    });
    $('.next').click(function() {
      if ($(this).hasClass('end')) {
        ending();
        return;
      }
      var b = $(this).parent().prev().children();
      if (b.hasClass('active')) {
        $.fn.fullpage.moveSectionDown();
      }
    });
    //上一题
    $('.back').click(function() {
      $.fn.fullpage.moveSectionUp();
    });
    //点击效果
    $('.choose').click(function() {
      var choose = $(this).parent('.box').children();
      choose.removeClass('active');
      $(this).addClass('active');
      $(this).parents('.section').find('.hand').css('display', 'block');
    });

  })
  </script>
</body>

</html>
